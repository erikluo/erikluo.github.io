+++
title = 'sd 模型中后缀名 bin 和 safetensors 区别是什么？'
date = 2024-01-27T17:24:40+08:00
featured_image = "/images/gateway.png"
draft = true
tags = ["sd"]
+++


bin 文件和 safetensors 文件都是用于存储大型语言模型（LLM）如 GPT、LLama2等的模型参数和权重的格式，但它们的具体用途和格式有所不同。

## bin 文件:

- .bin 文件通常是 PyTorch 模型的序列化格式。
- 这种格式用于存储模型的权重和参数。它是一个二进制文件，通常与 .config 文件一起使用，后者存储模型的配置信息（例如层数、隐藏单元数等）。
- .bin 文件可以通过 PyTorch 的 torch.save 函数创建，并可以通过 torch.load 函数加载。
- 这种格式适用于快速保存和加载模型，但不一定优化了跨平台兼容性或安全性。

## safetensors 文件:

- safetensors 是一个较新的格式，设计用于存储大型的、用于机器学习的张量数据。
- 它特别关注于数据的安全性和有效性，例如通过验证数据的完整性来防止数据损坏。
- safetensors 文件格式可能还包括了对数据布局和类型的优化，这有助于提高加载数据时的效率。
- 这种格式通常用于大规模的、分布式的机器学习环境，其中数据安全和验证非常重要。

总的来说，选择哪种格式取决于具体需求。如果需要快速、简单地保存和加载模型，.bin 可能是更好的选择，如果关注于数据的安全性和大规模分布式环境下的效率，那么 safetensors 可能是更合适的选择。
